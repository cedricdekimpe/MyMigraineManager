<% content_for :title, "Migraine log" %>

<section class="flex flex-col gap-6">
  <header class="flex flex-col gap-4 rounded-xl border border-slate-200 bg-white p-6 shadow-sm sm:flex-row sm:items-center sm:justify-between">
    <div>
      <p class="text-sm font-medium text-slate-500">Current month</p>
      <h1 class="text-2xl font-semibold text-slate-900"><%= @current_month.strftime("%B %Y") %></h1>
    </div>
    <div class="flex flex-wrap items-center gap-3 text-sm">
      <%= link_to "Previous", migraines_path(month: @previous_month.strftime("%Y-%m")), class: "rounded-md border border-slate-300 bg-white px-3 py-1.5 font-medium text-slate-700 transition hover:border-slate-400" %>
      <%= link_to "Next", migraines_path(month: @next_month.strftime("%Y-%m")), class: "rounded-md border border-slate-300 bg-white px-3 py-1.5 font-medium text-slate-700 transition hover:border-slate-400" %>
      <%= link_to "Yearly view", yearly_migraines_path(year: @current_month.year), class: "rounded-md border border-slate-300 bg-white px-3 py-1.5 font-medium text-slate-700 transition hover:border-slate-400" %>
      <%= link_to "New entry", new_migraine_path, class: "rounded-md bg-emerald-600 px-3 py-1.5 font-semibold text-white transition hover:bg-emerald-700" %>
    </div>
  </header>

  <%= render partial: "calendar_table", locals: { month: @current_month, migraines_by_day: @migraines_by_day, days: @days } %>
</section>
